pipeline {
    agent any
    
    stages {
        stage('Stage 1: Build') {
            steps {
                // Build the code using Maven
                // Example command: sh 'mvn clean package'
                echo 'Building the code using Maven'
                // Replace this echo command with the actual build command
            }
        }
        
        stage('Stage 2: Unit and Integration Tests') {
            steps {
                // Run unit tests using JUnit and integration tests using Selenium
                // Example command: sh 'mvn test'
                echo 'Running unit tests using JUnit and integration tests using Selenium'
                // Replace this echo command with the actual test command
            }
            post {
                success {
                    emailext attachLog: true,
                    to: 'gaaaargi0809@gmail.com',
                    subject: 'CI/CD Status - Test Stage Success',
                    body: 'Unit and integration tests stage was successful.'
                }
                failure {
                    emailext attachLog: true,
                    to: 'gaaaargi0809@gmail.com',
                    subject: 'CI/CD Status - Test Stage Failure',
                    body: 'Unit and integration tests stage failed. Please review the logs for more details.'
                }
            }
        }
        
        // Remaining stages are similar, you can update them accordingly
    }
}
